"use strict";(function(d){var f=f||{};var c=1;f.utils={spinners:function(h){d(h).spinner()},scrollToElement:function(i,j,h){d("html, body").animate({scrollTop:d(i).offset().top+j},h)}};f.global={init:function(){this.carousel();this.mobileMenu();this.video();this.externalVideo();this.contactWidget();d(".js-scroll-to").on("click",function(h){h.preventDefault();var i=d(this).attr("href");f.utils.scrollToElement(i,-940,200)})},carousel:function(){var h=d(".carousel");h.owlCarousel({loop:true,nav:true,margin:30,responsiveClass:true,dots:false,responsive:{0:{items:2},600:{items:3},1000:{items:6}}})},mobileMenu:function(){d(".mobile-menu-switch").on("click",function(){if(d(".mobile-menu-open").length>0){d(".mobile-menu .opened").removeClass("opened").find(".sub-menu").slideUp()}d(".mobile-menu").toggleClass("mobile-menu-open")});var h=d(".mobile-menu .menu-item-has-children");h.find(" > a").on("click",function(i){i.preventDefault()});h.on("click",function(l){var k=d(this);var j=d(".mobile-menu .opened");function i(){k.toggleClass("opened").find(".sub-menu").slideToggle()}if(k.hasClass("opened")){i()}else{if(j.length>0){j.removeClass("opened").find(".sub-menu").slideUp(function(){i()})}else{i()}}})},video:function(){d(".js-video-trigger").on("click",function(h){h.preventDefault();new MediaElement("home_player",{success:function(i,j){i.play();if(d(j).is(":visible")){i.stop()}}});d(this).parents(".hero").find(".mejs-container").fadeToggle(200);d(this).parents(".hero").find(".close-video").fadeToggle(200)})},externalVideo:function(){d("iframe").each(function(){if(this.name=="captchaFrame"){return}var h=d(this).attr("src");if(h.indexOf("youtube.com")>-1&&h.indexOf("?wmode=transparent")==-1){d(this).attr("src",h+"?wmode=transparent")}})},contactWidget:function(){var i=d(".widget-contact");var j=i.find(".widget-contact__header");var h=i.find(".btn-xs-close");j.click(function(){if(i.hasClass("widget-contact--up")){i.addClass("widget-contact--down").removeClass("widget-contact--up");j.removeClass("widget-contact__header--full").find(".icon-minus").removeClass("icon-minus").addClass("icon-plus")}else{i.removeClass("widget-contact--down").addClass("widget-contact--up");j.addClass("widget-contact__header--full").find(".icon-plus").removeClass("icon-plus").addClass("icon-minus")}});h.click(function(){if(i.hasClass("widget-contact--up")){i.addClass("widget-contact--down").removeClass("widget-contact--up");j.removeClass("widget-contact__header--full").find(".icon-minus").removeClass("icon-minus").addClass("icon-plus")}else{i.removeClass("widget-contact--down").addClass("widget-contact--up");j.addClass("widget-contact__header--full").find(".icon-plus").removeClass("icon-plus").addClass("icon-minus")}return false})}};f.distributors={init:function(){f.utils.spinners('.distributor-home .product-info input[type="number"]');this.collapse();this.helpSelects()},collapse:function(){d('a[data-toggle="tab"]').on("shown.bs.tab",function(i){var h=d(".accordion");h.collapse()})},helpSelects:function(){var h=d("#help-serial-number").find("input");h.val("N/A");d("#help-issue-type").find("select").val("General enquiry");d("#help-feedback-nature").on("change",function(){var i=d("#help-issue-type");var j=d(this);switch(j.find("select").val()){case"Technical":case"Sales":case"Complaint":i.fadeIn();j.removeClass("col-md-12");j.addClass("col-md-6");break;default:i.find("select").val("General enquiry");i.fadeOut();j.removeClass("col-md-6");j.addClass("col-md-12");d("#help-serial-number").slideUp();h.val("N/A");break}});d("#help-issue-type").on("change",function(){if(d(this).find("select").val()==="Specific issue"){d("#help-serial-number").slideDown();h.val("")}else{d("#help-serial-number").slideUp();h.val("N/A")}})}};var b=0;d(".nav-tabs_custom:not(.keep-tabs)").each(function(){var h,i=0,h=d('<select class="mobile-nav-tabs-'+b+' mobile-tab-headings form-control"></select>');d(this).addClass("nav-tabs-index-"+b);d(this).children("li").each(function(){h.append('<option value="'+i+'">'+d(this).text()+"</option>");i++});d(this).before(h);b++});d("[class^=mobile-nav-tabs]").on("change",function(j){var i=d(this).attr("class").split(" ");var k=i[0].split("mobile-nav-tabs-");var h=k[1];d(".nav-tabs-index-"+h+" li a").eq(d(this).val()).tab("show")});function a(o,l,j,p,m){var n=String(o.toFixed(p)),h=n,q="";var k=n.indexOf(j);if(k!=-1){h=n.substring(0,k);q=n.substring(k+1)}return m+h.replace(/(\d)(?=(\d{3})+([.]|$))/g,"$1"+l)+j+q}function e(m){var m=m||false;var l=d("#cart-popup");var k=d("#cart-popup-header");var p=d("#new-cart-items-list");var o="item-added";var h="new-cart";var i=h+"-mobile";var n=m?"Item added to cart":"Your cart";var j=(m)?o:"";if((l.length>0)){if(d(window).width()<=768){l.removeClass(h);l.addClass(i);l.css("width",d(window).width())}else{l.removeClass(i);l.addClass(h);l.css("width","")}if(l.hasClass(i)&&(!m)&&(d("a.view_cart_button").length>0)){d("a.view_cart_button")[0].click();return false}if(k.length>0){k.removeClass(o);k.addClass(j);k.text(n)}if(l.hasClass("hidden")){l.removeClass("hidden");if(p.length>0){p.perfectScrollbar()}}else{l.addClass("hidden")}}}function g(k){k=typeof k!=="undefined"?k:1;var j=window.location.href,h=j.indexOf("product"),i=j.indexOf("shop");if(k==1){window.location.href=h>-1?"/shop/":"/shop/"+j.substr(i+5)}else{if(k==4){window.location.href=h>-1?"/usa/shop/":"/usa/shop/"+j.substr(i+5)}}return false}d(document).ready(function(){var i=d(".clarify-region-popup").height(),j=d(window).height(),h=(j-i)/2;d(".clarify-region-popup").css({position:"fixed",top:h+"px"});d(".close-btn").click(function(){d(".clarify-region-popup").hide();d(".clarify-region-overlay").hide()});d(".region-selector").click(function(){var k=d("select[name='region']"),l=k.val(),m=l=="us"?4:1;if(l.length==0){k.addClass("error")}else{k.removeClass("error");g(m)}return false});d(".hover-region, .hover-region-row").click(function(){var k=d(this).hasClass("us")?4:1;g(k)});d(".hover-region, .hover-region-row").hover(function(){var k=d(this).hasClass("hover-region-row");if(k){d(".hover-region-row").find("img").show()}else{d(this).find("img").show()}},function(){var k=d(this).hasClass("hover-region-row");if(k){d(".hover-region-row").find("img").hide()}else{d(this).find("img").hide()}});d(".img-zoom").hover(function(){d(this).addClass("transition")},function(){d(this).removeClass("transition")});d.validate({form:d("form"),language:{requiredFields:"Field cannot be blank",notConfirmed:"Passwords do not match"}});d(".tooltip").tooltipster();d(".fancy-radios input").click(function(k){d("input:not(:checked)").parent().removeClass("active");d("input:checked").parent().addClass("active")});if(Element.NativeEvents&&Element.NativeEvents.hasOwnProperty("contextmenu")&&Element.NativeEvents.contextmenu===2){Element.NativeEvents.contextmenu=3}if((d("#woochimp_widget_subscription_submit").length>0)&&(!d("#woochimp_widget_subscription_submit").hasClass("btn btn-tertiary"))){d("#woochimp_widget_subscription_submit").addClass("btn btn-tertiary")}if(d("#new-cart-items-list").length>0){d("#new-cart-items-list").perfectScrollbar()}d(document).bind("added_to_cart",function(n,k,l,m){e(true)});d(document).on("touchstart click mouseenter","a#cart-link",function(k){e();k.preventDefault();k.stopPropagation();return false});d(document).on("click","a.remove-product",function(k){var t=jQuery(".buy-counter"),q=jQuery(".buy-items"),u=jQuery(this).attr("data-product_id"),p=jQuery(this).attr("data-product_key"),n=jQuery(this).attr("data-product_count"),m=jQuery(this).attr("data-product_price"),w=jQuery("#cart-total"),o=jQuery(this).closest(".new-cart-item"),x=d("#new-cart-items-list");var r,s;var v=(w.length>0)?w.attr("data-cart_total"):0;var l=(t.length>0)?t.attr("data-cart_total_count"):0;jQuery.ajax({type:"POST",dataType:"json",url:globalFuel.ajaxUrl,data:{action:"product_remove",product_key:p,product_id:u},success:function(y){if(o.length>0){o.remove();l=(l>n)?l-n:0;if(w.length>0){v=w.attr("data-cart_total")-m;s=a(v,w.attr("data-cart_price_th_separator"),w.attr("data-cart_price_dc_separator"),w.attr("data-cart_price_decimals"),w.attr("data-cart_currency"));w.attr("data-cart_total",v);w.find("span.amount").text(s)}if(l>0){r=(l>1)?"items":"item";t.attr("data-cart_total_count",l);w.attr("data-cart_total",v);t.text(l);q.text(r);x.perfectScrollbar("update")}else{t.closest("a").remove()}}},error:function(y){console.log("Product removal error");console.log(y);console.log("***")}});k.stopPropagation;k.preventDefault;return false});d("html").click(function(){var k=d("#cart-popup");if(k.length>0){k.addClass("hidden")}});d(document).on("click",".show_more_posts-fetching, .show_more_posts-nomoreleft",function(k){k.preventDefault();return false});d(document).on("click",".show_more_posts-button",function(m){m.preventDefault();var k=d("#get_older_posts"),o=d(".pagination"),n=k.html(),l="Fetching...";k.html(l);k.removeClass("show_more_posts-button");k.addClass("show_more_posts-fetching");d.ajax({url:globalFuel.ajaxUrl,type:"post",dataType:"json",data:{action:"get_older_posts",page:c},success:function(p){if(p.success==true){console.log(p);o.before(p.posts);c++}k.html(n);if(p.last==true){k.html("No more posts left");k.addClass("show_more_posts-nomoreleft")}else{k.addClass("show_more_posts-button");k.removeClass("show_more_posts-fetching")}},error:function(p){console.log("Get older posts error");console.log(p.status);console.log("***");k.html(n);k.addClass("show_more_posts-button");k.removeClass("show_more_posts-fetching")}})});f.global.init();f.distributors.init()})})(jQuery);