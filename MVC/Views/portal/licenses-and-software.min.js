(function(a){a(document).ready(function(){a("#devices .del").click(function(){var c=this;window.MVC_Post("Portal","deleteLicenseCodeActivity",{productid:a(this).data("product"),code:a(this).data("code"),computerid:a(this).data("computer")},function(d){if(d){alert(d)}else{a(c).closest(".device-item").remove()}});return false});var b=false;a(".btn-add-serial").closest("form").submit(function(i){var h=a(".btn-add-serial"),c=h.closest("form"),g=c.find("input[type=text]"),f=g.val().trim(),d="Invalid serial number";if(f){h.attr("disabled","disabled");g.parent().removeClass("has-error").find("span.help-block").hide().text(d);a.post(c.attr("action"),{serial:f},function(e){if(e.success){a("ul.license").append("<li>"+f+'&nbsp;<a title="Unassign" href="#" class="remove-serial tooltip_off" data-serial="'+f+'"><i class="icon-error"></i></a></li>');a(".no-serial").remove();c.find("input[type=text]").val("");if(e.downloads){a("div.software-downloads").html(e.downloads)}}else{g.parent().addClass("has-error").find("span.help-block").show().text(e.message)}h.removeAttr("disabled")})}else{g.parent().addClass("has-error").find("span.help-block").show().text(d)}i.preventDefault()});a(".btn-add-serial").closest("form").find("input[type=text]").change(function(){a(this).parent().removeClass("has-error").find("span.help-block").hide()});a("ul.license").on("click",".remove-serial",function(){var e=a(this),d=e.data("serial"),c=a("ul.license").data("remove-url");if(confirm("Are you sure you want to remove this serial number from your account?")){a.post(c,{serial:d},function(f){if(f.success){e.closest("li").remove();if(a("ul.license > li").length==0){a("div.software-downloads").html("To gain access to Fuel3D Studio software, you must register your SCANIFY serial number above")}}else{alert("There was an error removing your serial number")}})}return false});a(".software-downloads a").click(function(){var c=a(this).data("href");if(!c){c=a(this).attr("href")}window.MVC_Post("Portal","downloadSaveData",{href:c,user_id:window.user_id},function(d){if(d){alert(d)}else{window.location.href=c}});return false});a("#upgrade_button").prop("disabled",true);a("#upgrade_selectbox").change(function(){if(a(this).val()){a("#upgrade_button").prop("disabled",false)}else{a("#upgrade_button").prop("disabled",true)}})})})(jQuery);